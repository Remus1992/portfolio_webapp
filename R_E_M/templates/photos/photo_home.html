{% extends 'base.html' %}

{% load static %}

{% block title %}
    : Photo Home
{% endblock %}

{% block content %}

    <head>
        <link rel="stylesheet" type="text/css" href="{% static 'styles/style.css' %}"/>
    </head>
    <style>

        .container {
            margin: 20px auto;
            text-align: center;
            width: 70%;

        }

        h1, body {
            font-family: 'Alegreya Sans SC', sans-serif;
            font-weight: bold;
        }

        /*
        .album_container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        */
        .album_container {
            position: relative;
            width: 250px;
            height: 250px;
        }

        .image {
            opacity: 1;
            display: block;
            height: 250px;
            overflow: hidden;
            transition: .5s ease;
            backface-visibility: hidden;
        {#position: absolute;#} clip-path: rect(0px, 250px, 250px, 0px);

        }

        .middle {
            transition: .5s ease;
            opacity: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            text-align: center;
        }

        .album_container:hover .image {
            opacity: 0.3;
            -webkit-filter: blur(2px); /* Safari 6.0 - 9.0 */
            filter: blur(2px);
        }

        .album_container:hover .middle {
            opacity: 1;
        }

        .text {
        {#background-color: #4CAF50;#} color: black;
        {#font-size: 16px;#}{#padding: 16px 32px;#}
        }

        .category_container {
            height: 20px;
            padding: 20px;
        }

        .album_image_holder {
            width: 250px;
            height: 250px;
        }
    </style>

    <div class="container">

        <h1>Photo Home</h1>
        <a href="{% url 'picture_upload' %}">Upload</a>
        <br>
        <br>

        {% for cat in album_cats %}
            <div class="category_container">
                <h1>-------- {{ cat.name }} --------</h1>
            </div>
            <div class="album_container">
                {% for album in albums %}
                    {% if album.category == cat %}
                        <div class="album_image_holder"
                             style="background: url({{ album.photo_album.all.0.image.url }}); background-size: 250px 250px;">
                            {#                <img src="{{ album.photo_album.all.0.image.url }}" class="image">#}
                            <div class="middle">
                                <div class="text">{{ album.title }}</div>
                                <div class="text">{{ album.album_details }}</div>
                                <a href="{% url 'album_view' album.category.slug album.slug %}" class="text">Read
                                    More</a>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endfor %}
    </div>
{% endblock %}


{% block footer %}
    {% include 'footer_base.html' %}
{% endblock %}